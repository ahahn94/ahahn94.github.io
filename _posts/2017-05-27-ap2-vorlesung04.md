---
layout: post
title: "AP2: Vorlesung 4"
date: 2017-05-27 17:15:00 +0200
categories: AP2
---

Hier kommt der Quelltext der vierten Vorlesung.
Wie angekündigt habe ich weniger Quelltext kommentiert.

Aus Zeitgründen werde ich die Serie vorerst hier beenden.
Vielen Dank fürs lesen.

#### <a href="https://gitlab.com/ahahn94Repo/Uni/AP2/Vorlesung/Java/Vorlesung04">Quelltext auf Gitlab</a> ####
<!--more-->
### App.java ###
{% highlight java %}
package de.ahahn94;

import static de.ahahn94.Student.setOffset;
import static java.lang.System.out;

/**
 * Das ist die Hauptklasse.
 */
public class App {

    /**
     * Das ist das Hauptprogramm.
     * @param args Kommandozeilen-Argumente
     */
	public static void main(String[] args) {
		out.println("App ist gestartet");
		setOffset(100);
		Student student1 = new Student("Max", "Mustermann");
		student1.setGeburtstag(1, 2, 1993);
		Student student2 = new Student("Linux", "Torvalds");
		student2.setGeburtstag(40, 14, 1977);
		Student student3 = new Student("Richard", "Stallman", 16, 3, 1953);
		student3.setGeburtstag(new Datum(9, 5, 2017));
		Raum hoersaal = new Raum("Hörsaal 1400");
		hoersaal.betritt(student1);
		hoersaal.betritt(student2);
		hoersaal.betritt(student3);
		hoersaal.ausgabe();
		out.println("Älteste Person: " + hoersaal.getAeltestePerson());
		Raum bueroKohls = new Raum("Raum 3242");
		Dozent kohls = new Dozent("Christian", "Kohls", hoersaal, bueroKohls);
		out.println(kohls);
		kohls.setAktuellePosition(bueroKohls);
		out.println(kohls);
	}

}
{% endhighlight %}

### Datum.java ###
{% highlight java %}
package de.ahahn94;

/**
 *Klasse zur Erstellung von Datums-Objekten.
 */
public class Datum {

	private final int tag, monat , jahr;

    /**
     * Der Konstruktor für Datum.
     * @param tag Tag.
     * @param monat Monat.
     * @param jahr Jahr.
     */
	public Datum(int tag, int monat, int jahr) {
		this.tag = tag;
		this.monat = monat;
		this.jahr = jahr;
	}

	public int getJahr() {
		return jahr;
	}

	public int getTag() {
		return tag;
	}

	public int getMonat() {
		return monat;
	}

}
{% endhighlight %}

### Dozent.java ###
{% highlight java %}
package de.ahahn94;

/**
 * Klasse zum Erstellen von Dozenten.
 * Diese Klasse ist neu.
 * Dozent ist eine Unterklasse von Person und erbt die
 * Eigenschaften von Person.
 */
public class Dozent extends Person {

	private Raum buero;

    /**
     * Konstruktor.
     * @param vorname Vorname.
     * @param name Nachname.
     * @param aktuellePosition Raum aktuelle Position.
     * @param buero Raum Büro.
     */
	public Dozent(String vorname, String name , Raum aktuellePosition,
			      Raum buero) {
		super(vorname , name); //Ruft den Konstruktor der Oberklasse auf.
		setAktuellePosition(aktuellePosition);
		this.buero = buero;

	}

    /**
     * Prüft, ob der Dozent in seinem Büro ist.
     * @return Wahr, wenn im Büro.
     */
	public boolean istImBuero () {
		return getAktuellePosition() == buero; //Wenn aktuelle Postition = Büro
	}

    /**
     * toString-Methode.
     * @return Vorname, Nachname, Name des Büros, Anwesenheit im Büro.
     */
	public String toString () {
	    /*
	    Hier wird ein verkürztes IF verwendet:
	    if(istimBuero()==true){istDa="anwesend";}
	    else{istDa="abwesen";}
	     */
		String istDa = istImBuero() ? "anwesend" : "abwesend";
		/*
		Hier wird die toString-Methode der Oberklasse verwendet,
		also Person.toString().
		Daran wird noch buero.toString und der Inhalt von istDa
		angehangen.
		 */
		return super.toString() + " " + buero + " (" + istDa+ ")";
	}
}
{% endhighlight %}

### Person.java ###
{% highlight java %}
package de.ahahn94;

/**
 * Klasse zum Erstellen von Personen.
 * Diese Klasse ist neu.
 */
public class Person {

	private String vorname;
	private String name;
	private Datum gebDatum = new Datum (1,1,1900);

	private Raum aktuellePosition;

	/*
	Der Konstruktor ohne Argumente (Standardkonstruktor)
	wird von den Unterklassen benötigt.
	Würde der Standardkonstruktor nicht existieren, würde
	Java eine Fehlermeldung ausgeben.
	 */
	public Person () {

	}

    /**
     * Konstruktor mit Vor- und Nachname.
     * @param vorname Vorname.
     * @param name Nachname.
     */
	public Person (String vorname , String name) {
		this.vorname = vorname;
		this.name = name;
	}

    /**
     * Konstruktor mit allen Eigenschaften.
     * @param vorname Vorname.
     * @param name Nachname.
     * @param gebTag Geburtstag.
     * @param gebMonat Geburtsmonat.
     * @param gebJahr Geburtsjahr.
     */
	public Person (String vorname, String name, int gebTag, int gebMonat,
			        int gebJahr) {
		this(vorname, name);
		setGeburtstag(gebTag, gebMonat, gebJahr);
	}

    /**
     * toString-Methode.
     * @return Vorname, Nachname.
     */
	public String toString () {
		return vorname + " " + name;
	}

    /**
     * Prüft, ob die übergebene Person älter ist.
     * @param p2 Person.
     * @return Wahr, wenn p2 älter ist.
     */
	public boolean istAelter ( Person p2) {
		 if ( this.gebDatum.getJahr() < p2.gebDatum.getJahr()) return true;
		 if ( this.gebDatum.getJahr() == p2.gebDatum.getJahr()) {
			 if (this.gebDatum.getMonat() < p2.gebDatum.getMonat()) {
				 return true;
			 } else {
				 if (this.gebDatum.getMonat() == p2.gebDatum.getMonat()) {
					 return this.gebDatum.getTag() < p2.gebDatum.getTag(); //Boolean
				 } else{
					 return false;
				 }
			 }
		 } else {
			 return false;
		 }
	}

    public Person getAelterePerson (Person p2) {
        return this.istAelter(p2) ? this : p2; //Person
    }

    public String getVorname() {
        return vorname;
    }

    public String getName() {
        return name;
    }

    public Raum getAktuellePosition() {
        return aktuellePosition;
    }

    public void setVorname(String vorname) {
        this.vorname = vorname;
    }

    public void setName(String name) {
        this.name = name;
    }

    public void setGeburtstag (Datum datum) {
        this.gebDatum = datum;
    }

    public void setAktuellePosition(Raum aktuellePosition) {
        Raum altePosition = getAktuellePosition();
        if (altePosition!=null && aktuellePosition !=altePosition) {
            altePosition.verlaesst( this );
        }
        this.aktuellePosition = aktuellePosition;
    }

    public void setGeburtstag (int gebTag , int gebMonat , int gebJahr) {
	    /*
	    Hier wird mit verkürzten IFs auf gültige Werte geprüft.
	    Falls die Eingaben nicht im gültigen Bereich liegen,
	    wird 1 verwendet.
	    Unterschiedliche Monatslängen sind hier nicht berücksichtigt.
	     */
        if (gebTag < 1 || gebTag > 31) gebTag = 1;
        if (gebMonat < 1 || gebMonat > 12) gebMonat = 1;
        gebDatum = new Datum(gebTag, gebMonat, gebJahr);
    }
}
{% endhighlight %}

### Raum.java ###
{% highlight java %}
package de.ahahn94;

import java.util.ArrayList;

import static java.lang.System.out;

/**
 * Klasse zum Erzeugen von Raum-Objekten.
 */
public class Raum {

   public Raum (String raumname) {
	   this.raumname = raumname;
   }

   private final static int MAX_SIZE = 25;
   private String raumname;

   private Person [] personen = new Person [MAX_SIZE] ;

   private int personIndex = 0;

   /**
     * Ein Student betritt den Raum.
     * Er wird zur Liste studenten hinzugefügt, falls
     * noch Platz vorhanden ist.
     * @param s Das Student-Objekt.
     */
   public void betritt (Person s) {
	   if (personIndex < personen.length) {
		   personen[personIndex++] = s;
		   s.setAktuellePosition(this);
	   } else {
		   out.println("Der Raum ist voll.");
	   }
   }

    /**
     * Methode zum Verlassen von Räumen.
     * Noch nicht implementiert.
     * @param p Person.
     */
   public void verlaesst (Person p) {
	   //Noch zu programmieren.
   }

    /**
     * Methode zum Ausgeben der Personen im Raum
     * auf der Konsole.
     */
   public void ausgabe () {
	   System.out.println("In Raum " + raumname + " befinden sich:");
	   for (int i = 0; i < personIndex; i++) {
		   System.out.println(  personen[i] );
	   }
   }

    /**
     * Methode zum Bestimmen der ältesten Person im Raum.
     * @return Älteste Person.
     */
   public Person getAeltestePerson () {
	   if (personIndex == 0) return null;
	   Person aeltester = personen [0];
	   for (int i = 1 ; i < personIndex ; i++) {
		   aeltester = (Student) personen[i].getAelterePerson(aeltester);
	   }
	   return aeltester;
   }

    /**
     * toString-Methode.
     * @return String Raumname.
     */
   public String toString() {
	   return raumname;
   }

}
{% endhighlight %}

### Student.java ###
{% highlight java %}
package de.ahahn94;

/**
 * Klasse zum Erzeugen von Studenten-Objekten.
 */
public class Student extends Person {

	private String studiengang;
	int matrikelnr;
	static int naechsteMatrikelNummer;

    /**
     * Leerer Kontruktor.
     * Es werden keine Eigenschaften übergeben.
     * Eine fortlaufende Matrikelnummer wird trotzdem vergeben.
     */
	public Student () {
		this.matrikelnr = naechsteMatrikelNummer;
		naechsteMatrikelNummer++;
	}

    /**
     * Konstruktor mit Vorname und Nachname.
     * Ruft den leeren Konstruktor auf, so dass eine Matrikelnummer
     * vergeben wird.
     * Anschließend werden Name und Vorname gesetzt.
     * @param vorname Vorname des Studenten.
     * @param name Nachname des Studenten.
     */
	public Student (String vorname , String name) {
		this();
		this.setVorname(vorname);
		this.setName(name);
	}

    /**
     * Konstruktor mit allen Eigenschaften.
     * Ruft den Konstruktor mit Vorname und Nachname auf.
     * Setzt anschließend den Geburtstag.
     * @param vorname Vorname des Studenten.
     * @param name Nachname des Studenten.
     * @param gebTag Geburtstag des Studenten.
     * @param gebMonat Geburtsmonat des Studenten.
     * @param gebJahr Geburtsjahr des Studenten.
     */
	public Student (String vorname, String name, int gebTag, int gebMonat,
			        int gebJahr) {
		this(vorname, name);
		setGeburtstag(gebTag, gebMonat, gebJahr);
	}

    /**
     * Setzt die nächte Matrikelnummer auf den Wert des Offset.
     * Dadurch werden Matrikelnummern erst ab diesem Wert vergeben.
     * @param offset Startwert für die Vergabe von Matrikelnummern.
     */
	public static void setOffset(int offset) {
		Student.naechsteMatrikelNummer= offset;
	}

    /**
     * Macht aus dem Objekt eine Zeichenkette.
     * Da die toString-Methode standardmäßig von der Klasse
     * Object geerbt wird, muss sie hier überschrieben werden.
     * Dazu wird @Override verwendet.
     * @return Die Eigenschaften des Student-Objekts als String.
     */
	@Override
	public String toString () {
		return   super.toString() + " " +
				" Matrnr: " + this.matrikelnr ;
	}

    public String getStudiengang() {
        return studiengang;
    }

    public void setStudiengang(String studiengang) {
        this.studiengang = studiengang;
    }

}
{% endhighlight %}